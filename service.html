<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dịch vụ Tarot | Mystic-Products</title>

    <!-- Bootstrap 5 & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>

  <body>
    <!-- ===== SIDEBAR (DESKTOP) ===== -->
    <nav class="sidebar d-none d-xl-flex flex-column">
      <div>
        <h4 class="text-center text-warning">Mystic-Products</h4>
        <ul>
          <li>
            <a href="index.html"><i class="bi bi-house"></i> Trang chủ</a>
          </li>
          <li>
            <a href="products.html"><i class="bi bi-gem"></i> Sản phẩm</a>
          </li>
          <li>
            <a href="service.html" class="text-warning"
              ><i class="bi bi-stars"></i> Dịch vụ Tarot</a
            >
          </li>
          <li>
            <a href="about.html"><i class="bi bi-person"></i> Giới thiệu</a>
          </li>
          <li>
            <a href="contact.html"><i class="bi bi-envelope"></i> Liên hệ</a>
          </li>
        </ul>
      </div>
      <div class="text-center mb-3">
        <button class="btn btn-sm btn-outline-warning">VI / EN</button>
      </div>
    </nav>

    <!-- ===== TOPBAR (TABLET) ===== -->
    <div class="topbar d-none d-md-block d-xl-none">
      <a href="index.html">Trang chủ</a>
      <a href="products.html">Sản phẩm</a>
      <a href="service.html" class="text-warning">Dịch vụ</a>
      <a href="about.html">Giới thiệu</a>
      <a href="contact.html">Liên hệ</a>
      <span class="float-end me-3 text-warning">VI / EN</span>
    </div>

    <!-- ===== BOTTOM NAV (MOBILE) ===== -->
    <div class="bottom-nav d-flex d-md-none">
      <a href="products.html"><i class="bi bi-gem"></i></a>
      <a href="service.html" class="active"><i class="bi bi-stars"></i></a>
      <a href="index.html"><i class="bi bi-house"></i></a>
      <a href="about.html"><i class="bi bi-person"></i></a>
      <a href="contact.html"><i class="bi bi-envelope"></i></a>
    </div>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="container py-5">
      <h2 class="text-center mb-4">Đặt lịch xem Tarot</h2>

      <!-- COUNTDOWN OFFER -->
      <div class="text-center mb-5">
        <h5 class="mb-2">
          Ưu đãi đặc biệt: <span class="text-warning">Giảm 20%</span> cho 20
          khách đầu tiên tuần này!
        </h5>
        <div id="countdown" class="fs-4 fw-bold text-warning"></div>
      </div>

      <!-- VIDEO GIỚI THIỆU -->
      <div class="video-section container mb-5">
        <div class="ratio ratio-16x9 mx-auto" style="max-width: 900px">
          <iframe
            src="https://www.youtube.com/embed/3b1i7B5rrYg"
            title="Xem Tarot là gì?"
            loading="lazy"
            allowfullscreen
          ></iframe>
        </div>
      </div>

      <!-- FORM ĐẶT LỊCH -->
      <section class="mb-5">
        <div class="row justify-content-center">
          <div class="col-lg-6 col-md-8">
            <form id="bookingForm" class="p-4 rounded" novalidate>
              <h4 class="mb-3 text-center text-warning">Đặt lịch ngay</h4>

              <div class="mb-3">
                <label for="fullName" class="form-label">Họ và tên *</label>
                <input
                  type="text"
                  class="form-control"
                  id="fullName"
                  placeholder="Nhập họ và tên của bạn"
                  required
                />
                <div class="invalid-feedback">Vui lòng nhập họ tên.</div>
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email *</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="your@email.com"
                  required
                />
                <div class="invalid-feedback">Vui lòng nhập email hợp lệ.</div>
              </div>

              <div class="mb-3">
                <label for="date" class="form-label">Ngày muốn đặt *</label>
                <input type="date" class="form-control" id="date" required />
                <div class="invalid-feedback">Vui lòng chọn ngày.</div>
              </div>

              <div class="mb-3">
                <label for="method" class="form-label">Hình thức xem *</label>
                <select class="form-select" id="method" required>
                  <option value="">-- Chọn --</option>
                  <option value="online">Online (Google Meet)</option>
                  <option value="offline">Offline (Tại cửa hàng)</option>
                </select>
                <div class="invalid-feedback">Vui lòng chọn hình thức.</div>
              </div>

              <div class="mb-3">
                <label for="note" class="form-label">Ghi chú thêm</label>
                <textarea
                  class="form-control"
                  id="note"
                  rows="3"
                  placeholder="Nêu điều bạn muốn hỏi Tarot..."
                ></textarea>
              </div>

              <button type="submit" class="btn btn-warning w-100 mt-3">
                <i class="bi bi-calendar-check"></i> Gửi yêu cầu đặt lịch
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- POPUP THÔNG BÁO -->
      <div class="popup" id="popupMsg">
        <i class="bi bi-check-circle"></i> Đặt lịch thành công! Chúng tôi sẽ
        liên hệ sớm.
      </div>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer>
      <p class="mb-2">© 2025 Mystic-Products</p>
      <div>
        <a href="#"><i class="bi bi-facebook"></i></a>
        <a href="#"><i class="bi bi-instagram"></i></a>
        <a href="#"><i class="bi bi-tiktok"></i></a>
      </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // ===== COUNTDOWN (3 ngày từ thời điểm người dùng mở trang) =====
      const countdownEl = document.getElementById("countdown");
      const offerTarget = new Date();
      offerTarget.setDate(offerTarget.getDate() + 3);

      function updateCountdown() {
        const now = new Date();
        const diff = offerTarget - now;
        if (diff <= 0) {
          countdownEl.textContent = "⏰ Ưu đãi đã kết thúc!";
          clearInterval(countdownTimer);
          return;
        }
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);
        countdownEl.textContent = `${d} ngày ${h} giờ ${m} phút ${s} giây`;
      }
      const countdownTimer = setInterval(updateCountdown, 1000);
      updateCountdown();

      // ===== FORM VALIDATION + POPUP =====
      const form = document.getElementById("bookingForm");
      const popup = document.getElementById("popupMsg");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (!form.checkValidity()) {
          form.classList.add("was-validated");
          return;
        }
        popup.style.display = "block";
        setTimeout(() => (popup.style.display = "none"), 2000);
        form.reset();
        form.classList.remove("was-validated");
      });
    </script>
  </body>
</html>
